!function(){"use strict";var e=angular.module("creaImagesPreloader",[]);e.service("ImagesPreloader",["$q","ImagePreloader",function(e,n){var r=function(){var r,a=this,t=[],o=0;this.preload=function(n,r,o){var u=e.defer();return angular.forEach(n,function(e){a.addImage(e,r)}),e.all(t).then(function(){"undefined"!==o&&o(),u.resolve()}),u.promise},this.addImage=function(e,a){r=new n(e),r.then(function(e){o+=1,"undefined"!==a&&a(e,o,t.length)}),t.push(r)}};return new r}]),e.service("ImagePreloader",["$q",function(e){var n=function(n){var r=e.defer(),a=new Image;return a.src=n,angular.element(a).bind("load",function(){r.resolve(n)}),r.promise};return n}])}();